import{u as p,b as h,R as m,j as e,r as g}from"./index-DX5dQwiC.js";import{p as u,I as r}from"./atoms-B0Esckxm.js";import{B as j,a as y}from"./axios-C1aFd0fI.js";import{B as v}from"./BottomWarning-Davcv5-Q.js";function B(){const i=localStorage.getItem("token"),l=p(),[c]=h(),d=c.get("id"),[n,o]=m(u);if(i)return e.jsx("div",{children:e.jsx("div",{className:" h-screen bg-gray-200 px-4 py-6 md:px-6 lg:py-12 xl:py-16",children:e.jsx("div",{className:"px-4 py-6 md:px-6 lg:py-12 xl:py-16",children:e.jsx("div",{className:"grid md:grid-cols-2 md:gap-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"space-y-2 text-center",children:e.jsx("h1",{className:"text-3xl font-bold tracking-tighter lg:text-5xl xl:leading-[4rem]",children:"Update Your Blog"})}),e.jsx("div",{className:"w-full max-w-[800px] mx-auto",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Enter the information to Update "})]}),e.jsx("div",{className:"space-y-2",children:e.jsx(r,{onChange:t=>{o(a=>({...a,title:t.target.value}))},placeholder:"Title",label:"Enter your Title"})}),e.jsx("div",{className:"space-y-2",children:e.jsx(r,{onChange:t=>{o(a=>({...a,content:t.target.value}))},label:"Enter the content",placeholder:"this is the content"})}),e.jsx(j,{label:"Update",onClick:async()=>{let t=JSON.stringify({content:`${n.content}`,title:`${n.title}`});const a=localStorage.getItem("token");let x={method:"put",maxBodyLength:1/0,url:`https://backend.nakshvashisth.workers.dev/api/v1/blog/update/${d}`,headers:{Authorization:`Bearer ${a}`},data:t};y.request(x).then(s=>{console.log(JSON.stringify(s.data)),l("/dashboard")}).catch(s=>{console.log(s)})}}),e.jsx("div",{}),e.jsx(v,{label:"",buttonText:"Back to dashboard",to:"/dashboard"})]})})]})})})})});g.useEffect(()=>{l("/signin")})}export{B as default};
